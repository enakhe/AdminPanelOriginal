@page
@model AdminPanel.Areas.Admin.Pages.ManageUsers.Profile.SecurityModel
@{
    Layout = "_Dashboard";
    ViewData["Title"] = "Pasword & Security";
}

<div class="content-wrapper">
    <section class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                    <h1>Audit Log Info</h1>
                </div>
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="#">Home</a></li>
                        <li class="breadcrumb-item"><a asp-area="Admin" asp-page="/ManageUsers/Profile/Index" asp-route-id="@Model.UserData.Id">Profile</a></li>
                        <li class="breadcrumb-item active">@Model.UserData.FullName</li>
                    </ol>
                </div>
            </div>
        </div>
    </section>
    <section class="content">
        <div class="container-fluid">
            <div class="profile-heading">
                <div class="my-2">
                    <div class="d-flex justify-content-center">
                        <div class="col-md-6">
                            <partial name="_StatusMessage" for="StatusMessage" />
                        </div>
                    </div>
                    <div class="d-flex justify-content-center">
                        <div class="my-2">
                            <div class="d-flex justify-content-center">

                                <div class="my-2">
                                    @{
                                        if (Model.UserProfilePicture != null)
                                        {
                                            <img id="profilePicture"
                                                 class="rounded-circle"
                                                 src="data:image/*;base64,@(Convert.ToBase64String(Model.UserProfilePicture))" />
                                        }
                                        else
                                        {
                                            <img id="profilePicture" class="rounded-circle" src="~/img/user.png">
                                        }
                                    }
                                </div>

                            </div>
                            <h4 class="my-1 text-center">User, @Model.UserData.FullName</h4>
                            <p class="text-center">Edit and manage info about @Model.UserData.FirstName and preferences</p>
                        </div>
                    </div>
                </div>

                <div class="center">
                    <div class="profile-body">

                        <div class="row align-items-center">
                            <div class="col-sm-6 mb-3 mb-sm-0">
                                <div class="heading">
                                    <h4>Manage @Model.UserData.FirstName's password & security seetings </h4>
                                    <p>Personal info and options to manage it. You can make some of this info, like your contact details, visible to others so they can reach you easily. You can also see a summary of your profiles.</p>
                                </div>
                            </div>

                            <div class="col-sm-6 d-flex justify-content-center mb-3 mb-sm-0">
                                <img src="~/img/privacy.svg" class="img-fluid w-50" alt="...">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div class="personal-info my-4">
                            <div class="border shadow-sm border-success rounded-3 border-opacity-75 border-3 p-3">
                                <h5 class="fw-bold">Password & Security</h5>
                                <form id="updateForm needs-validation" class="my-5" asp-area="Admin" asp-page="/ManageUsers/Profile/Security" asp-route-id="@Model.UserData.Id">

                                    <div class="form-floating mb-3">
                                        <input name="newPassword" id="newPassword" type="password" class="form-control shadow-none col-md-6" aria-required="true" placeholder="Enter new password" />
                                        <label class="form-label">New Password</label>
                                    </div>

                                    <div class="center">
                                        <div class="save-button my-3">
                                            <button type="submit" class="btn btn-success w-100 shadow-none">Save changes</button>
                                        </div>
                                    </div>

                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
